//PACKAGE NAME
package org.lared.desinventar.webobject;

import java.io.*;
import java.util.*;
import java.sql.*;
import java.math.*;
import java.text.*;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import javax.servlet.jsp.tagext.*;


//CLASS NAME
// generated by WebObjectGenerator...
public class MetadataElement extends webObject
{
//    public int dbType=Sys.iDatabaseType;	

	// DATA MEMBERS OF THE CLASS. THEY ARE EXACT MAPPING OF DB. RECORD.
	public 	int    metadata_element_key;
	public 	String metadata_country;
	public 	String metadata_element_code;
	public 	String metadata_element_fao;
	public 	String metadata_element_sector;
	public 	String metadata_element_source;
	public 	String metadata_element_description;
	public 	String metadata_element_unit;
	public 	String metadata_element_measurement;
	public 	double metadata_element_average_size;
	public 	double metadata_element_equipment;
	public 	double metadata_element_infrastr;
	public 	double metadata_element_damage_r;
	public 	String metadata_element_formula;
	public 	int    metadata_element_workers;
	public 	double metadata_element_price;
	public 	double metadata_element_price_us;

	/**
	* creates a hash table with field values of the data members
	*
	*/

	public void updateHashTable() {
		// FIELD NAMES VECTOR
		asFieldNames.put("metadata_element_key", String.valueOf(metadata_element_key));
		asFieldNames.put("metadata_country", metadata_country);
		asFieldNames.put("metadata_element_code", metadata_element_code);
		asFieldNames.put("metadata_element_fao", metadata_element_fao);
		asFieldNames.put("metadata_element_sector", metadata_element_sector);
		asFieldNames.put("metadata_element_source", metadata_element_source);
		asFieldNames.put("metadata_element_description", metadata_element_description);
		asFieldNames.put("metadata_element_unit", metadata_element_unit);
		asFieldNames.put("metadata_element_measurement", metadata_element_measurement);
		asFieldNames.put("metadata_element_average_size", String.valueOf(metadata_element_average_size));
		asFieldNames.put("metadata_element_equipment", String.valueOf(metadata_element_equipment));
		asFieldNames.put("metadata_element_infrastr", String.valueOf(metadata_element_infrastr));
		asFieldNames.put("metadata_element_damage_r", String.valueOf(metadata_element_damage_r));
		asFieldNames.put("metadata_element_formula", metadata_element_formula);
		asFieldNames.put("metadata_element_workers", String.valueOf(metadata_element_workers));
		asFieldNames.put("metadata_element_price", String.valueOf(metadata_element_price));
		asFieldNames.put("metadata_element_price_us", String.valueOf(metadata_element_price_us));

	}

	/**
	* update data members with values stored in hash table
	*
	*/

	public void updateMembersFromHashTable() {
		// REVERSE FIELD NAMES VECTOR
		setMetadata_element_key((String)asFieldNames.get("metadata_element_key"));
		setMetadata_country((String)asFieldNames.get("metadata_country"));
		setMetadata_element_code((String)asFieldNames.get("metadata_element_code"));
		setMetadata_element_fao((String)asFieldNames.get("metadata_element_fao"));
		setMetadata_element_sector((String)asFieldNames.get("metadata_element_sector"));
		setMetadata_element_source((String)asFieldNames.get("metadata_element_source"));
		setMetadata_element_description((String)asFieldNames.get("metadata_element_description"));
		setMetadata_element_unit((String)asFieldNames.get("metadata_element_unit"));
		setMetadata_element_measurement((String)asFieldNames.get("metadata_element_measurement"));
		setMetadata_element_average_size((String)asFieldNames.get("metadata_element_average_size"));
		setMetadata_element_equipment((String)asFieldNames.get("metadata_element_equipment"));
		setMetadata_element_infrastr((String)asFieldNames.get("metadata_element_infrastr"));
		setMetadata_element_damage_r((String)asFieldNames.get("metadata_element_damage_r"));
		setMetadata_element_formula((String)asFieldNames.get("metadata_element_formula"));
		setMetadata_element_workers((String)asFieldNames.get("metadata_element_workers"));
		setMetadata_element_price((String)asFieldNames.get("metadata_element_price"));
		setMetadata_element_price_us((String)asFieldNames.get("metadata_element_price_us"));

	}
	/**
	* constructor of the class. it initialises the object variables
	*
	*/

	// CONSTRUCTOR
	public void init() {
		lastError="No errors detected";
		metadata_element_key = 0;
		metadata_country = "";
		metadata_element_code = "";
		metadata_element_fao = "";
		metadata_element_sector = "";
		metadata_element_source = "";
		metadata_element_description = "";
		metadata_element_unit = "";
		metadata_element_measurement = "";
		metadata_element_average_size = 0;
		metadata_element_equipment = 0;
		metadata_element_infrastr = 0;
		metadata_element_damage_r = 0;
		metadata_element_formula = "";
		metadata_element_workers = 0;
		metadata_element_price = 0;
		metadata_element_price_us = 0;
		updateHashTable();
	}

	public MetadataElement() {
		super("MetadataElement object");
		init();
	}
//--------------------------------------------------------------------------------
// getter and setter methods of the elements of the class
//--------------------------------------------------------------------------------

//--------------------------------------------------------------------------------
// Access methods for database field 'metadata_element_key'
	public String getMetadata_element_key() {
		return Integer.toString(metadata_element_key);
	}

	public void setMetadata_element_key(String sParameter) {
		metadata_element_key = extendedParseInt(sParameter);
	}

	public void setMetadata_element_key(int sParameter) {
		metadata_element_key = sParameter;
	}
//--------------------------------------------------------------------------------

//--------------------------------------------------------------------------------
// Access methods for database field 'metadata_country'
	public String getMetadata_country() {
		return metadata_country;
	}

	public void setMetadata_country(String sParameter) {
		metadata_country = sParameter;
	}
//--------------------------------------------------------------------------------

//--------------------------------------------------------------------------------
// Access methods for database field 'metadata_element_code'
	public String getMetadata_element_code() {
		return metadata_element_code;
	}

	public void setMetadata_element_code(String sParameter) {
		metadata_element_code = sParameter;
	}
//--------------------------------------------------------------------------------

//--------------------------------------------------------------------------------
// Access methods for database field 'metadata_element_fao'
	public String getMetadata_element_fao() {
		return metadata_element_fao;
	}

	public void setMetadata_element_fao(String sParameter) {
		metadata_element_fao = sParameter;
	}
//--------------------------------------------------------------------------------

//--------------------------------------------------------------------------------
// Access methods for database field 'metadata_element_sector'
	public String getMetadata_element_sector() {
		return metadata_element_sector;
	}

	public void setMetadata_element_sector(String sParameter) {
		metadata_element_sector = sParameter;
	}
//--------------------------------------------------------------------------------

//--------------------------------------------------------------------------------
// Access methods for database field 'metadata_element_source'
	public String getMetadata_element_source() {
		return metadata_element_source;
	}

	public void setMetadata_element_source(String sParameter) {
		metadata_element_source = sParameter;
	}
//--------------------------------------------------------------------------------

//--------------------------------------------------------------------------------
// Access methods for database field 'metadata_element_description'
	public String getMetadata_element_description() {
		return metadata_element_description;
	}

	public void setMetadata_element_description(String sParameter) {
		metadata_element_description = sParameter;
	}
//--------------------------------------------------------------------------------

//--------------------------------------------------------------------------------
// Access methods for database field 'metadata_element_unit'
	public String getMetadata_element_unit() {
		return metadata_element_unit;
	}

	public void setMetadata_element_unit(String sParameter) {
		metadata_element_unit = sParameter;
	}
//--------------------------------------------------------------------------------

//--------------------------------------------------------------------------------
// Access methods for database field 'metadata_element_measurement'
	public String getMetadata_element_measurement() {
		return metadata_element_measurement;
	}

	public void setMetadata_element_measurement(String sParameter) {
		metadata_element_measurement = sParameter;
	}
//--------------------------------------------------------------------------------

//--------------------------------------------------------------------------------
// Access methods for database field 'metadata_element_average_size'
	public String getMetadata_element_average_size() {
		return Double.toString(metadata_element_average_size);
	}

	public void setMetadata_element_average_size(String sParameter) {
		metadata_element_average_size = extendedParseDouble(sParameter);
	}

	public void setMetadata_element_average_size(double sParameter) {
		metadata_element_average_size = sParameter;
	}
//--------------------------------------------------------------------------------

//--------------------------------------------------------------------------------
// Access methods for database field 'metadata_element_equipment'
	public String getMetadata_element_equipment() {
		return Double.toString(metadata_element_equipment);
	}

	public void setMetadata_element_equipment(String sParameter) {
		metadata_element_equipment = extendedParseDouble(sParameter);
	}

	public void setMetadata_element_equipment(double sParameter) {
		metadata_element_equipment = sParameter;
	}
//--------------------------------------------------------------------------------

//--------------------------------------------------------------------------------
// Access methods for database field 'metadata_element_infrastr'
	public String getMetadata_element_infrastr() {
		return Double.toString(metadata_element_infrastr);
	}

	public void setMetadata_element_infrastr(String sParameter) {
		metadata_element_infrastr = extendedParseDouble(sParameter);
	}

	public void setMetadata_element_infrastr(double sParameter) {
		metadata_element_infrastr = sParameter;
	}
//--------------------------------------------------------------------------------

//--------------------------------------------------------------------------------
// Access methods for database field 'metadata_element_damage_r'
	public String getMetadata_element_damage_r() {
		return Double.toString(metadata_element_damage_r);
	}

	public void setMetadata_element_damage_r(String sParameter) {
		metadata_element_damage_r = extendedParseDouble(sParameter);
	}

	public void setMetadata_element_damage_r(double sParameter) {
		metadata_element_damage_r = sParameter;
	}
//--------------------------------------------------------------------------------

//--------------------------------------------------------------------------------
// Access methods for database field 'metadata_element_formula'
	public String getMetadata_element_formula() {
		return metadata_element_formula;
	}

	public void setMetadata_element_formula(String sParameter) {
		metadata_element_formula = sParameter;
	}
//--------------------------------------------------------------------------------

//--------------------------------------------------------------------------------
// Access methods for database field 'metadata_element_workers'
	public String getMetadata_element_workers() {
		return Integer.toString(metadata_element_workers);
	}

	public void setMetadata_element_workers(String sParameter) {
		metadata_element_workers = extendedParseInt(sParameter);
	}

	public void setMetadata_element_workers(int sParameter) {
		metadata_element_workers = sParameter;
	}
//--------------------------------------------------------------------------------

//--------------------------------------------------------------------------------
// Access methods for database field 'metadata_element_price'
	public String getMetadata_element_price() {
		return Double.toString(metadata_element_price);
	}

	public void setMetadata_element_price(String sParameter) {
		metadata_element_price = extendedParseDouble(sParameter);
	}

	public void setMetadata_element_price(double sParameter) {
		metadata_element_price = sParameter;
	}
//--------------------------------------------------------------------------------

//--------------------------------------------------------------------------------
// Access methods for database field 'metadata_element_price_us'
	public String getMetadata_element_price_us() {
		return Double.toString(metadata_element_price_us);
	}

	public void setMetadata_element_price_us(String sParameter) {
		metadata_element_price_us = extendedParseDouble(sParameter);
	}

	public void setMetadata_element_price_us(double sParameter) {
		metadata_element_price_us = sParameter;
	}
//--------------------------------------------------------------------------------


	//----------------------------------------------------------------
	// Operational methods any webObject must have. Abstract class
	// provides templates and default behaviour (return error)
	//----------------------------------------------------------------

	/**
	* retrieves object info from HTML form fields
	*
	*/
	public int getForm(HttpServletRequest req, HttpServletResponse resp, Connection con) {

		// GET_FORM()
		setMetadata_element_key(req.getParameter(assignName("metadata_element_key")));
		setMetadata_country(not_null_safe(req.getParameter(assignName("metadata_country"))));
		setMetadata_element_code(not_null_safe(req.getParameter(assignName("metadata_element_code"))));
		setMetadata_element_fao(not_null_safe(req.getParameter(assignName("metadata_element_fao"))));
		setMetadata_element_sector(not_null_safe(req.getParameter(assignName("metadata_element_sector"))));
		setMetadata_element_source(not_null_safe(req.getParameter(assignName("metadata_element_source"))));
		setMetadata_element_description(not_null_safe(req.getParameter(assignName("metadata_element_description"))));
		setMetadata_element_unit(not_null_safe(req.getParameter(assignName("metadata_element_unit"))));
		setMetadata_element_measurement(not_null_safe(req.getParameter(assignName("metadata_element_measurement"))));
		setMetadata_element_average_size(req.getParameter(assignName("metadata_element_average_size")));
		setMetadata_element_equipment(req.getParameter(assignName("metadata_element_equipment")));
		setMetadata_element_infrastr(req.getParameter(assignName("metadata_element_infrastr")));
		setMetadata_element_damage_r(req.getParameter(assignName("metadata_element_damage_r")));
		setMetadata_element_formula(not_null_safe(req.getParameter(assignName("metadata_element_formula"))));
		setMetadata_element_workers(req.getParameter(assignName("metadata_element_workers")));
		setMetadata_element_price(req.getParameter(assignName("metadata_element_price")));
		setMetadata_element_price_us(req.getParameter(assignName("metadata_element_price_us")));

		this.checkLengths();
		
		updateHashTable();
		return 0;
	}

	/**
	* retrieves object info from HTML form fields
	*
	*/
	public int getForm(ServletRequest req, ServletResponse resp, Connection con) {

		// GET_FORM()
		setMetadata_element_key(req.getParameter(assignName("metadata_element_key")));
		setMetadata_country(not_null_safe(req.getParameter(assignName("metadata_country"))));
		setMetadata_element_code(not_null_safe(req.getParameter(assignName("metadata_element_code"))));
		setMetadata_element_fao(not_null_safe(req.getParameter(assignName("metadata_element_fao"))));
		setMetadata_element_sector(not_null_safe(req.getParameter(assignName("metadata_element_sector"))));
		setMetadata_element_source(not_null_safe(req.getParameter(assignName("metadata_element_source"))));
		setMetadata_element_description(not_null_safe(req.getParameter(assignName("metadata_element_description"))));
		setMetadata_element_unit(not_null_safe(req.getParameter(assignName("metadata_element_unit"))));
		setMetadata_element_measurement(not_null_safe(req.getParameter(assignName("metadata_element_measurement"))));
		setMetadata_element_average_size(req.getParameter(assignName("metadata_element_average_size")));
		setMetadata_element_equipment(req.getParameter(assignName("metadata_element_equipment")));
		setMetadata_element_infrastr(req.getParameter(assignName("metadata_element_infrastr")));
		setMetadata_element_damage_r(req.getParameter(assignName("metadata_element_damage_r")));
		setMetadata_element_formula(not_null_safe(req.getParameter(assignName("metadata_element_formula"))));
		setMetadata_element_workers(req.getParameter(assignName("metadata_element_workers")));
		setMetadata_element_price(req.getParameter(assignName("metadata_element_price")));
		setMetadata_element_price_us(req.getParameter(assignName("metadata_element_price_us")));

		updateHashTable();
		return 0;
	}


	/**
	* loads an object from a record read from database
	*
	*/
	public void loadWebObject(ResultSet rset) {
		try {
			// SQL_LOAD

			try {
				metadata_element_key = rset.getInt("metadata_element_key");

			} catch (Exception ex) {
				lastError = "<-- error attempting to access field metadata_element_key -->";
				System.out.println(ex.toString());
			}

			try {
				metadata_country = not_null(rset.getString("metadata_country"));

			} catch (Exception ex) {
				lastError = "<-- error attempting to access field metadata_country -->";
				System.out.println(ex.toString());
			}

			try {
				metadata_element_code = not_null(rset.getString("metadata_element_code"));

			} catch (Exception ex) {
				lastError = "<-- error attempting to access field metadata_element_code -->";
				System.out.println(ex.toString());
			}

			try {
				metadata_element_fao = not_null(rset.getString("metadata_element_fao"));

			} catch (Exception ex) {
				lastError = "<-- error attempting to access field metadata_element_fao -->";
				System.out.println(ex.toString());
			}

			try {
				metadata_element_sector = not_null(rset.getString("metadata_element_sector"));

			} catch (Exception ex) {
				lastError = "<-- error attempting to access field metadata_element_sector -->";
				System.out.println(ex.toString());
			}

			try {
				metadata_element_source = not_null(rset.getString("metadata_element_source"));

			} catch (Exception ex) {
				lastError = "<-- error attempting to access field metadata_element_source -->";
				System.out.println(ex.toString());
			}

			try {
				metadata_element_description = not_null(rset.getString("metadata_element_description"));

			} catch (Exception ex) {
				lastError = "<-- error attempting to access field metadata_element_description -->";
				System.out.println(ex.toString());
			}

			try {
				metadata_element_unit = not_null(rset.getString("metadata_element_unit"));

			} catch (Exception ex) {
				lastError = "<-- error attempting to access field metadata_element_unit -->";
				System.out.println(ex.toString());
			}

			try {
				metadata_element_measurement = not_null(rset.getString("metadata_element_measurement"));

			} catch (Exception ex) {
				lastError = "<-- error attempting to access field metadata_element_measurement -->";
				System.out.println(ex.toString());
			}

			try {
				metadata_element_average_size = rset.getDouble("metadata_element_average_size");

			} catch (Exception ex) {
				lastError = "<-- error attempting to access field metadata_element_average_size -->";
				System.out.println(ex.toString());
			}

			try {
				metadata_element_equipment = rset.getDouble("metadata_element_equipment");

			} catch (Exception ex) {
				lastError = "<-- error attempting to access field metadata_element_equipment -->";
				System.out.println(ex.toString());
			}

			try {
				metadata_element_infrastr = rset.getDouble("metadata_element_infrastr");

			} catch (Exception ex) {
				lastError = "<-- error attempting to access field metadata_element_infrastr -->";
				System.out.println(ex.toString());
			}

			try {
				metadata_element_damage_r = rset.getDouble("metadata_element_damage_r");

			} catch (Exception ex) {
				lastError = "<-- error attempting to access field metadata_element_damage_r -->";
				System.out.println(ex.toString());
			}

			try {
				metadata_element_formula = not_null(rset.getString("metadata_element_formula"));

			} catch (Exception ex) {
				lastError = "<-- error attempting to access field metadata_element_formula -->";
				System.out.println(ex.toString());
			}

			try {
				metadata_element_workers = rset.getInt("metadata_element_workers");

			} catch (Exception ex) {
				lastError = "<-- error attempting to access field metadata_element_workers -->";
				System.out.println(ex.toString());
			}

			try {
				metadata_element_price = rset.getDouble("metadata_element_price");

			} catch (Exception ex) {
				lastError = "<-- error attempting to access field metadata_element_price -->";
				System.out.println(ex.toString());
			}

			try {
				metadata_element_price_us = rset.getDouble("metadata_element_price_us");

			} catch (Exception ex) {
				lastError = "<-- error attempting to access field metadata_element_price_us -->";
				System.out.println(ex.toString());
			}

		} catch (Exception e) {
			lastError = "<!-- Error loading WebObject: " + e.toString() + " : " + sSql + " -->";
		}
		updateHashTable();
	}

	/**
	* reads an object from the database
	*
	*/
	public int getWebObject(Connection con) 
	{
		int nrows = 0;
		try {		
			// SQL_GET
			int f=1;
			sSql = "SELECT * FROM metadata_element";
			sSql += " WHERE (metadata_element_key = ?) AND (metadata_country = ?)";
			pstmt = con.prepareStatement(sSql);

				pstmt.setInt(f++, metadata_element_key);

			if (metadata_country==null || metadata_country.length() == 0)
				pstmt.setNull(f++, Types.VARCHAR);
			else
				pstmt.setString(f++, metadata_country);


			rset = pstmt.executeQuery();
			if (rset.next()) {
				loadWebObject(rset);
				nrows = 1;				
			}			
			// releases the statement object
			rset.close();
			pstmt.close();
			lastError = ""; // "NO ERROR. sql="+sSql;
		} catch (Exception ex) {
			//Trap and report SQL errors
			lastError = "<!-- Error getting webObject: " + ex.toString() + " : " + sSql	+ " -->";
			nrows = -1;
		}
		finally {
			// releases the statement object
			try { pstmt.close(); } catch (Exception ignrd) {}
		}

		return nrows;
	}



	/**
	* checks the lengths of strings are <= to what is defined in the database
	*
	*/
	public void checkLengths()
    {
		// CHECK_LENGTHS
		if (metadata_country.length()>10)
			metadata_country=metadata_country.substring(0,10);
		if (metadata_element_code.length()>15)
			metadata_element_code=metadata_element_code.substring(0,15);
		if (metadata_element_fao.length()>15)
			metadata_element_fao=metadata_element_fao.substring(0,15);
		if (metadata_element_sector.length()>250)
			metadata_element_sector=metadata_element_sector.substring(0,250);
		if (metadata_element_source.length()>250)
			metadata_element_source=metadata_element_source.substring(0,250);
		if (metadata_element_description.length()>250)
			metadata_element_description=metadata_element_description.substring(0,250);
		if (metadata_element_unit.length()>30)
			metadata_element_unit=metadata_element_unit.substring(0,30);
		if (metadata_element_measurement.length()>10)
			metadata_element_measurement=metadata_element_measurement.substring(0,10);
		if (metadata_element_formula.length()>1000)
			metadata_element_formula=metadata_element_formula.substring(0,1000);
    }

	/**
	* adds a new object to the database
	*
	*/
	public int addWebObject(Connection con)
    {
		int nrows = 0;
		try {
			// SQL_INSERT
			int f=1;
			sSql = "insert into metadata_element (";
			sSql += "metadata_element_key, metadata_country, metadata_element_code";
			sSql += ", metadata_element_fao, metadata_element_sector, metadata_element_source";
			sSql += ", metadata_element_description, metadata_element_unit, metadata_element_measurement";
			sSql += ", metadata_element_average_size, metadata_element_equipment, metadata_element_infrastr";
			sSql += ", metadata_element_damage_r, metadata_element_formula, metadata_element_workers";
			sSql += ", metadata_element_price, metadata_element_price_us)";
			sSql += "VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)";
			pstmt = con.prepareStatement(sSql);

				pstmt.setInt(f++, metadata_element_key);
			if (metadata_country==null || metadata_country.length()==0)
				pstmt.setNull(f++, java.sql.Types.VARCHAR);
			else
				pstmt.setString(f++, metadata_country);
			if (metadata_element_code==null || metadata_element_code.length()==0)
				pstmt.setNull(f++, java.sql.Types.VARCHAR);
			else
				pstmt.setString(f++, metadata_element_code);
			if (metadata_element_fao==null || metadata_element_fao.length()==0)
				pstmt.setNull(f++, java.sql.Types.VARCHAR);
			else
				pstmt.setString(f++, metadata_element_fao);
			if (metadata_element_sector==null || metadata_element_sector.length()==0)
				pstmt.setNull(f++, java.sql.Types.VARCHAR);
			else
				pstmt.setString(f++, metadata_element_sector);
			if (metadata_element_source==null || metadata_element_source.length()==0)
				pstmt.setNull(f++, java.sql.Types.VARCHAR);
			else
				pstmt.setString(f++, metadata_element_source);
			if (metadata_element_description==null || metadata_element_description.length()==0)
				pstmt.setNull(f++, java.sql.Types.VARCHAR);
			else
				pstmt.setString(f++, metadata_element_description);
			if (metadata_element_unit==null || metadata_element_unit.length()==0)
				pstmt.setNull(f++, java.sql.Types.VARCHAR);
			else
				pstmt.setString(f++, metadata_element_unit);
			if (metadata_element_measurement==null || metadata_element_measurement.length()==0)
				pstmt.setNull(f++, java.sql.Types.VARCHAR);
			else
				pstmt.setString(f++, metadata_element_measurement);
				pstmt.setDouble(f++, metadata_element_average_size);
				pstmt.setDouble(f++, metadata_element_equipment);
				pstmt.setDouble(f++, metadata_element_infrastr);
				pstmt.setDouble(f++, metadata_element_damage_r);
			if (metadata_element_formula==null || metadata_element_formula.length()==0)
				pstmt.setNull(f++, java.sql.Types.VARCHAR);
			else
				pstmt.setString(f++, metadata_element_formula);
				pstmt.setInt(f++, metadata_element_workers);
				pstmt.setDouble(f++, metadata_element_price);
				pstmt.setDouble(f++, metadata_element_price_us);


			nrows = pstmt.executeUpdate();
			lastError = ""; // "NO ERROR. sql="+sSql;
		} catch (Exception ex) {
			//Trap and report SQL errors
			System.out.println("ERROR (adding web object): "+ex.toString());
			lastError = "<!-- Error adding webObject: " + ex.toString() + " : " + sSql + " -->";
			nrows=-1;
		}
		finally {
			// releases the statement object
			try { pstmt.close(); } catch (Exception ignrd) {}
		}
		return nrows;		
	}

  	/**
  	* updates an existing object in the database
  	*
  	*/
  	public int updateWebObject(Connection con)
    {
		int nrows = 0;
		try {
			// SQL_UPDATE
			int f=1;
			sSql = "UPDATE metadata_element SET ";
			sSql += "metadata_element_code = ?";
			sSql += ", metadata_element_fao = ?";
			sSql += ", metadata_element_sector = ?";
			sSql += ", metadata_element_source = ?";
			sSql += ", metadata_element_description = ?";
			sSql += ", metadata_element_unit = ?";
			sSql += ", metadata_element_measurement = ?";
			sSql += ", metadata_element_average_size = ?";
			sSql += ", metadata_element_equipment = ?";
			sSql += ", metadata_element_infrastr = ?";
			sSql += ", metadata_element_damage_r = ?";
			sSql += ", metadata_element_formula = ?";
			sSql += ", metadata_element_workers = ?";
			sSql += ", metadata_element_price = ?";
			sSql += ", metadata_element_price_us = ?";
			sSql += " WHERE (metadata_element_key = ?) AND (metadata_country = ?)";
			pstmt = con.prepareStatement(sSql);

			if (metadata_element_code==null || metadata_element_code.length()==0)
				pstmt.setNull(f++, java.sql.Types.VARCHAR);
			else 
				pstmt.setString(f++, metadata_element_code);
			if (metadata_element_fao==null || metadata_element_fao.length()==0)
				pstmt.setNull(f++, java.sql.Types.VARCHAR);
			else 
				pstmt.setString(f++, metadata_element_fao);
			if (metadata_element_sector==null || metadata_element_sector.length()==0)
				pstmt.setNull(f++, java.sql.Types.VARCHAR);
			else 
				pstmt.setString(f++, metadata_element_sector);
			if (metadata_element_source==null || metadata_element_source.length()==0)
				pstmt.setNull(f++, java.sql.Types.VARCHAR);
			else 
				pstmt.setString(f++, metadata_element_source);
			if (metadata_element_description==null || metadata_element_description.length()==0)
				pstmt.setNull(f++, java.sql.Types.VARCHAR);
			else 
				pstmt.setString(f++, metadata_element_description);
			if (metadata_element_unit==null || metadata_element_unit.length()==0)
				pstmt.setNull(f++, java.sql.Types.VARCHAR);
			else 
				pstmt.setString(f++, metadata_element_unit);
			if (metadata_element_measurement==null || metadata_element_measurement.length()==0)
				pstmt.setNull(f++, java.sql.Types.VARCHAR);
			else 
				pstmt.setString(f++, metadata_element_measurement);
				pstmt.setDouble(f++, metadata_element_average_size);
				pstmt.setDouble(f++, metadata_element_equipment);
				pstmt.setDouble(f++, metadata_element_infrastr);
				pstmt.setDouble(f++, metadata_element_damage_r);
			if (metadata_element_formula==null || metadata_element_formula.length()==0)
				pstmt.setNull(f++, java.sql.Types.VARCHAR);
			else 
				pstmt.setString(f++, metadata_element_formula);
				pstmt.setInt(f++, metadata_element_workers);
				pstmt.setDouble(f++, metadata_element_price);
				pstmt.setDouble(f++, metadata_element_price_us);


				pstmt.setInt(f++, metadata_element_key);

			if (metadata_country==null || metadata_country.length() == 0)
				pstmt.setNull(f++, Types.VARCHAR);
			else
				pstmt.setString(f++, metadata_country);


			nrows = pstmt.executeUpdate();
			lastError = ""; // "NO ERROR. sql="+sSql;
		} catch (Exception ex) {
			//Trap and report SQL errors
			lastError = "<!-- Error updating webObject: " + ex.toString() + " : " + sSql + " -->";
			nrows=-1;
		}
		finally {
			// releases the statement object
			try { pstmt.close(); } catch (Exception ignrd) {}
		}
		return nrows;		
	}

	/**
	* deletes an existing object in the database
	*
	*/
	public int deleteWebObject(Connection con) 
	{
		int nrows = 0;
		try {
			// SQL_DELETE
			int f=1;
			sSql = "DELETE FROM metadata_element";
			sSql += " WHERE (metadata_element_key = ?) AND (metadata_country = ?)";
			pstmt = con.prepareStatement(sSql);

				pstmt.setInt(f++, metadata_element_key);

			if (metadata_country==null || metadata_country.length() == 0)
				pstmt.setNull(f++, Types.VARCHAR);
			else
				pstmt.setString(f++, metadata_country);


			nrows = pstmt.executeUpdate();
			lastError = ""; // "NO ERROR. sql="+sSql;
		} catch (Exception ex) {
			//Trap and report SQL errors
			lastError = "<!-- Error deleting webObject: " + ex.toString() + " : " + sSql + " -->";
			nrows=-1;
		}
		finally {
			// releases the statement object
			try { pstmt.close(); } catch (Exception ignrd) {}
		}
		return nrows;		
	}
}

/*    HTML TEMPLATE
<table border=0 cellspacing=0 cellpadding=0>
<tr><td>metadata_element_key:</td><td>  <INPUT type='TEXT' size='5' maxlength='11' name='metadata_element_key' VALUE="<%=beanName.metadata_element_key%>"></td></tr>
<tr><td>metadata_country:</td><td>  <INPUT type='TEXT' size='11' maxlength='10' name='metadata_country' VALUE="<%=beanName.metadata_country%>"></td></tr>
<tr><td>metadata_element_code:</td><td>  <INPUT type='TEXT' size='16' maxlength='15' name='metadata_element_code' VALUE="<%=beanName.metadata_element_code%>"></td></tr>
<tr><td>metadata_element_fao:</td><td>  <INPUT type='TEXT' size='16' maxlength='15' name='metadata_element_fao' VALUE="<%=beanName.metadata_element_fao%>"></td></tr>
<tr><td>metadata_element_sector:</td><td>  <INPUT type='TEXT' size='50' maxlength='250' name='metadata_element_sector' VALUE="<%=beanName.metadata_element_sector%>"></td></tr>
<tr><td>metadata_element_source:</td><td>  <INPUT type='TEXT' size='50' maxlength='250' name='metadata_element_source' VALUE="<%=beanName.metadata_element_source%>"></td></tr>
<tr><td>metadata_element_description:</td><td>  <INPUT type='TEXT' size='50' maxlength='250' name='metadata_element_description' VALUE="<%=beanName.metadata_element_description%>"></td></tr>
<tr><td>metadata_element_unit:</td><td>  <INPUT type='TEXT' size='31' maxlength='30' name='metadata_element_unit' VALUE="<%=beanName.metadata_element_unit%>"></td></tr>
<tr><td>metadata_element_measurement:</td><td>  <INPUT type='TEXT' size='11' maxlength='10' name='metadata_element_measurement' VALUE="<%=beanName.metadata_element_measurement%>"></td></tr>
<tr><td>metadata_element_average_size:</td><td>  <INPUT type='TEXT' size='15' maxlength='22' name='metadata_element_average_size' VALUE="<%=beanName.metadata_element_average_size%>"></td></tr>
<tr><td>metadata_element_equipment:</td><td>  <INPUT type='TEXT' size='15' maxlength='22' name='metadata_element_equipment' VALUE="<%=beanName.metadata_element_equipment%>"></td></tr>
<tr><td>metadata_element_infrastr:</td><td>  <INPUT type='TEXT' size='15' maxlength='22' name='metadata_element_infrastr' VALUE="<%=beanName.metadata_element_infrastr%>"></td></tr>
<tr><td>metadata_element_damage_r:</td><td>  <INPUT type='TEXT' size='15' maxlength='22' name='metadata_element_damage_r' VALUE="<%=beanName.metadata_element_damage_r%>"></td></tr>
<tr><td>metadata_element_formula:</td><td>  <INPUT type='TEXT' size='50' maxlength='1073741823' name='metadata_element_formula' VALUE="<%=beanName.metadata_element_formula%>"></td></tr>
<tr><td>metadata_element_workers:</td><td>  <INPUT type='TEXT' size='5' maxlength='11' name='metadata_element_workers' VALUE="<%=beanName.metadata_element_workers%>"></td></tr>
<tr><td>metadata_element_price:</td><td>  <INPUT type='TEXT' size='15' maxlength='22' name='metadata_element_price' VALUE="<%=beanName.metadata_element_price%>"></td></tr>
<tr><td>metadata_element_price_us:</td><td>  <INPUT type='TEXT' size='15' maxlength='22' name='metadata_element_price_us' VALUE="<%=beanName.metadata_element_price_us%>"></td></tr>
</table>
END HTML TEMPLATE */
